<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
	<link rel="stylesheet" href="/css/bootstrap.css"/>
	<link rel="stylesheet" href="/css/bootstrap-theme.css"/>
	<link rel="stylesheet" href="/css/my.css"/>
	<script src="/js/jquery-3.1.1.js"></script>
	<script src="/js/jquery.validate.js"></script>
	<script src="/js/messages_zh.js"></script>
	<script src="/js/bootstrap.js"></script>
	<title>登录页面</title>
	<style>
		.error{
			background-color: #31b0d5;
			font-size:20px;
		}
	</style>

</head>
<body style="background-color: #5bc0de">
	<div class="col-md-6 col-md-offset-3" style="position: absolute;top:50%;margin-top:-200px;">
		<div class="panel panel-info">
			<div class="panel-heading">
				<h3 class="panel-title">欢迎登陆電影系統</h3>
			</div>

			<form role="form" class="form-horizontal" action="#"  method="post" style="margin: 20px 20px;" onsubmit="return loginCheck();">
				<div class="form-group">
					<label class="control-label col-md-2">用户名:</label>
					<div class="col-md-10">
						<input type="text" name="firstName" class="form-control">
					</div>
				</div>
				<div class="col-md-offset-2">
					<button type="submit" class="btn btn-default" class="form-control">登陆</button>
				</div>

			</form>
		</div>
	</div>

	<script type="text/javascript">
		function loginCheck(){
			var _data=$("form").serialize();
			$.ajax({
				type :"post",
				url : "/login.do",
				data:_data,
				dataType :"json",
				success :loginCallback
			});

			return false;
		}

		function loginCallback(data){
			if(data.result==false){
				$(".panel-title").empty();
				$(".panel-title").html("<p style='color: red;'>登陆失败<p>");

			}else if(data.result==true){
				location.href="/gotoHome.do";
			}
		}
	</script>

</body>
</html>